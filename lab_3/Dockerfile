# Используем базовый образ с поддержкой C++
FROM gcc:latest

# Устанавливаем библиотеку httplib
RUN apt-get update && apt-get install -y libcpp-httplib-dev

# Создаем и устанавливаем рабочий каталог
WORKDIR /usr/src/app

# Копируем исходные файлы приложения в рабочий каталог
COPY . .

# Компилируем приложение
RUN g++ -std=c++11 -o main test.cpp -lpthread

# Указываем порт, который будет использоваться веб-сервером
EXPOSE 8080

# Команда для запуска приложения при запуске контейнера
CMD ["./main"]